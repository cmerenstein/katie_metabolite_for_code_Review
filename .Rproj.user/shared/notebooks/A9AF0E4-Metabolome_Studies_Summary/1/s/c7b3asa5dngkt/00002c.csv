"0","#re-upload unmatched literature metabolites"
"0","corrected_unmatched_lit <- read_xlsx(path = './Results/corrected_unmatched_literature_metabolites.xlsx') %>%"
"0","  rename('previous_name' = name_search, 'name_search' = manual_correction) %>%"
"0","  mutate(name_search = ifelse(grepl("","", name_search) == T, paste0(""\"""", name_search, ""\""""), name_search)) %>%"
"0","  filter(is.na(.$source) == T & name_search != 'no match found') %>%"
"0","  mutate(name_search = tolower(name_search))"
"1",""
"1","-"
"1",""
"1","/"
"1","                                                                                                                                                "
"1",""
"0","write_xlsx(corrected_unmatched_lit, './Results/HMDB_search2.xlsx')"
"0","#rerun py script with manually corrected names"
"0","source_python('./HMDB/HMDB_search.py')"
"0","HMDB_search_fun(infile =""./Results/HMDB_search2.xlsx"" , key_file = './Results/HMDB_search2_key.csv')"
"0","#match names from HMDB with corrected_unmatched_lit"
"0","match2 <- read.csv2(file = ""./Results/HMDB_search2_key.csv"", header = FALSE, stringsAsFactors = F, sep = "","") %>%"
"0","  rename('traditional_iupac' = V1, 'name_search' = V2) %>%"
"0","  left_join(., metabolite_DB, by = 'traditional_iupac') %>%"
"0","  select(name_search, traditional_iupac, smiles, inchi, inchikey) %>%"
"0","  right_join(., corrected_unmatched_lit %>% select(Study, Detection, previous_name, name_search, HDC, LDC, Int)) %>%"
"0","  filter(is.na(smiles) ==F)"
"2","Joining, by = ""name_search""
"
"0","#determine match rates"
"0","paste0(""The number of unmatched metabolites is: "", length(which(corrected_unmatched_lit$previous_name %!in% match2$previous_name) == T))"
"1","[1]"
"1"," ""The number of unmatched metabolites is: 16"""
"1","
"
"0","#write datatable to review and edit unmatched metabolites"
"0","DT::datatable(match2, editable = 'cell', filter = 'top', extensions = c(""Buttons"",""Scroller""),"
"0","              options = list(pageLength = 25,"
"0","                             dom = 'Bfrtip',"
"0","                             scrollY = 200,"
"0","                             buttons = list(I(""colvis""), c('copy', 'csv','excel'))))"
